<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        canvas{
            background-color: pink;
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <canvas id="c1" width="800" height="800"></canvas>
    <script>
        var canvas = document.getElementById("c1");
        var ctx = canvas.getContext("2d");
        // 1.创建图片对象
        // var picture = new Image(); 
        // // 2.下载图片
        // picture.src = "1.png";
        // // 3.绑定事件
        // picture.onload = function(){
        //     // 4.绘制图片
        //     ctx.drawImage(picture,0,0);
        // }
        // 监听点击事件
canvas.addEventListener("mousemove", function(event) {
    getMousePos(canvas, event);
    clearCanvas();
});

function getMousePos(canvas, event) {
    
    var rect = canvas.getBoundingClientRect();
    var x = event.clientX - rect.left * (canvas.width / rect.width);
    var y = event.clientY - rect.top * (canvas.height / rect.height);
    // 1.创建图片对象
    var picture = new Image(); 
    // 2.下载图片
    picture.src = "1.png";
    // 3.绑定事件
    picture.onload = function(){
    
    // 4.绘制图片
    var h = picture.height;
    var w = picture.width;
        ctx.drawImage(picture,x,y,100,100);
    }
    // console.log("x:"+x+",y:"+y);
}
function clearCanvas()  {  
            var cxt=document.getElementById("c1").getContext("2d");
            cxt.clearRect(0,0,800,800);  
        }  
    </script>
</body>
</html>